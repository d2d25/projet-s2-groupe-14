<div class="outer-div">
  <div class="login-form inner-div" style="margin: auto; width:  50%; min-width: 700px;  margin-top: 5%;">
    <form
      *ngIf="!isSuccessful"
      name="form"
      (ngSubmit)="f.form.valid && onSubmit()"
      #f="ngForm"
      novalidate
    >

      <h2 class="text-center">Validation emargement</h2>

      <div *ngIf="groupName">
        <h3>{{form.subject}}</h3>
        <p>par : {{form.teacher.firstName}} {{form.teacher.lastName}}</p>
        <h4>Promotion : {{groupName}}</h4>
        <h5 *ngIf="subGroupName">Groupe : {{subGroupName}}</h5>
        <p>Début : {{form.beginsAt}}</p>
        <p>Fin : {{form.endAt}}</p>
        <p>token : {{form.token}}</p>
      </div>

      <div class="form-group" >
        <table class="table table-light">
          <thead class="thead-light">
          <tr>
            <th >N°Universitaire</th>
            <th >Prénom</th>
            <th >Nom</th>
            <th >Sélection</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngIf="!form.emargements">
            <td>vide</td>
            <td>vide</td>
            <td>vide</td>
            <td>vide</td>
          </tr>
          <tr *ngFor="let s of form.emargements">
            <td>{{s.user.numEtu}}</td>
            <td>{{s.user.firstName}}</td>
            <td>{{s.user.lastName}}</td>
            <td>
              <input type="checkbox" name="{{s.user.id}}" [(ngModel)]="s.isRegistered"/>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <div class="form-group col-2"  >
        <label >Validation :</label>
        <button class="btn btn-success btn-block shadow-none" (click)="switchValidate()" *ngIf="form.isValidate" > ✓ </button>

        <button class="btn btn-danger btn-block shadow-none" (click)="switchValidate()" *ngIf="!form.isValidate" > X </button>
      </div>

      <div class="form-group " style="margin: auto; width: 40%">
        <button type="submit" class="btn btn-primary btn-block shadow-none">Enregistrer</button>
        <button class="btn btn-secondary btn-block shadow-none " [routerLink]="'/emargement-list'" >annuler</button>
      </div>

    </form>
  </div>
</div>

